{
    "name": "cube43\/mail-eva",
    "description": "Cette API permet de  : - G\u00e9rer vos abonnements \u00e0 des notifications - consulter les notifications - relancer des notifiations  ### Principes G\u00e9n\u00e9raux  Il est possible d'etre notifi\u00e9 lorsque une ressource change d'\u00e9tat (par exemple un envoi courrier ou un envoi de lettre recommand\u00e9e),  via un appel vers un webhook sur votre syst\u00e8me.  Pour cela, il faut au pr\u00e9alable vous abonner \u00e0 un type d'\u00e9v\u00e8nement  pour un type de ressource et indiquer l'URL \u00e0 notifier.  Vous pourrez aussi voir les notifications qui vous ont \u00e9t\u00e9 envoy\u00e9es  au cours des 30 derniers jours et en consulter le d\u00e9tail. Il est aussi possible de demander \u00e0 rejouer des notifications.  ### Mise en oeuvre  Pour recevoir des notifications, vous devez mettre en place une URL de callback. Vous devez ensuite vous abonner \u00e0 un \u00e9venement en pr\u00e9cisant cette URL. Lorque l'\u00e9v\u00e8nement surviendra, Maileva fera un POST sur l'URL en passant les param\u00e9tres ci-dessous.      {       \"source\": \"api.maileva.com\",       \"user_id\": \"12345678-c014-4923-9bb9-497addd5e901\",       \"client_id\": \"f5e22e36-c014-4923-9bb9-497addd5e901\",       \"event_type\": \"ON_STATUS_ACCEPTED\",       \"resource_type\": \"mail\/v2\/sendings\",       \"event_date\": \"2017-10-02T10:23:31.137Z\",       \"event_location\": \"FR\",       \"resource_id\": \"e6118f29-89c3-41e5-82e8-00cb0b7b1b0c\",       \"resource_location\": \"https:\/\/api.maileva.com\/mail\/v2\/sendings\/e6118f29-89c3-41e5-82e8-00cb0b7b1b0c\",       \"resource_custom_id\": \"order1234\",       \"resource_custom_data\": \"my_data\"     }  Important : votre URL de callback devra retourner une erreur 201,  sinon la notification sera consid\u00e9r\u00e9e comme \u00e9chou\u00e9e et Maileva tentera d'autres appels ult\u00e9rieurement.  Les sp\u00e9cifications de l'appel vers votre URL de callback est d\u00e9crit dans l'onglet \"Callbacks\" du endpoint POST \/subscriptions.   Astuce : pour simuler un webhook, vous pouvez utiliser le site <a href=\"https:\/\/webhook.site\">https:\/\/webhook.site<\/a>  ### En cas de probl\u00e8me  En cas d'\u00e9chec lors de la premi\u00e8re tentative de notification,  Maileva fera jusqu'\u00e0 10 autres tentatives :   - 2\u00e8me tentative : 10 min apr\u00e8s la 1\u00e8re tentative   - 3\u00e8me tentative : 10 min apr\u00e8s la 2\u00e8me tentative   - 4\u00e8me tentative : 20 min apr\u00e8s la 3\u00e8me tentative   - 5\u00e8me tentative : 30 min apr\u00e8s la 4\u00e8me tentative   - 6\u00e8me tentative : 50 min apr\u00e8s la 5\u00e8me tentative   - 7\u00e8me tentative : 80 min apr\u00e8s la 6\u00e8me tentative   - 8\u00e8me tentative : 130 min apr\u00e8s la 7\u00e8me tentative   - 9\u00e8me tentative : 210 min apr\u00e8s la 8\u00e8me tentative   - 10\u00e8me tentative : 340 min apr\u00e8s la 9\u00e8me tentative  ### Les \u00e9v\u00e8nements disponibles sont :  Pour le Courrier Simple (mail\/v2) :     <table border=\"1\">     <tr bgcolor=\"lightgrey\">       <th>Type de ressource (`resource_type`)<\/th>       <th>Type d'\u00e9v\u00e8nement (`event_type`)<\/th>       <th>Description<\/th>     <\/tr>     <tr>       <td>         mail\/v2\/sendings       <\/td>       <td>ON_STATUS_ACCEPTED<\/td>       <td>L'envoi est pass\u00e9 au statut *ACCEPTED*<\/td>     <\/tr>     <tr>       <td>         mail\/v2\/sendings       <\/td>       <td>ON_STATUS_REJECTED<\/td>       <td>L'envoi est pass\u00e9 au statut *REJECTED*<\/td>     <\/tr>     <tr>       <td>         mail\/v2\/sendings       <\/td>       <td>ON_STATUS_PROCESSED<\/td>       <td>L'envoi est pass\u00e9 au statut *PROCESSED*<\/td>     <\/tr>     <tr>       <td>         mail\/v2\/sendings       <\/td>       <td>ON_STATUS_ARCHIVED<\/td>       <td>Tous les documents correspondants aux destinataires valides ont \u00e9t\u00e9 archiv\u00e9s<\/td>     <\/tr>   <\/table>  Pour la LREL (registered_mail\/v2) :     <table border=\"1\">     <tr bgcolor=\"lightgrey\">       <th>Type de ressource (`resource_type`)<\/th>       <th>Type d'\u00e9v\u00e8nement (`event_type`)<\/th>       <th>Description<\/th>     <\/tr>     <tr>       <td>registered_mail\/v2\/sendings       <\/td>       <td>ON_STATUS_ACCEPTED<\/td>       <td>L'envoi est pass\u00e9 au statut *ACCEPTED*<\/td>     <\/tr>     <tr>       <td>registered_mail\/v2\/sendings<\/td>       <td>ON_STATUS_REJECTED<\/td>       <td>L'envoi est pass\u00e9 au statut *REJECTED*<\/td>     <\/tr>     <tr>       <td>registered_mail\/v2\/sendings<\/td>       <td>ON_STATUS_PROCESSED<\/td>       <td>L'envoi est pass\u00e9 au statut *PROCESSED*<\/td>     <\/tr>     <tr>       <td>registered_mail\/v2\/sendings<\/td>       <td>ON_DEPOSIT_PROOF_RECEIVED<\/td>       <td>L'envoi a obtenu sa preuve de d\u00e9p\u00f4t<\/td>     <\/tr>     <tr>       <td>registered_mail\/v2\/recipients<\/td>       <td>ON_ACKNOWLEDGEMENT_OF_RECEIPT_RECEIVED<\/td>       <td>Le destinataire de l'envoi a obtenu son avis de r\u00e9ception<\/td>     <\/tr>     <tr>       <td>registered_mail\/v2\/sendings<\/td>       <td>ON_STATUS_ARCHIVED<\/td>       <td>Tous les documents correspondants aux destinataires valides ont \u00e9t\u00e9 archiv\u00e9s<\/td>     <\/tr>   <\/table>",
    "keywords": [
        "openapitools",
        "openapi-generator",
        "openapi",
        "php",
        "sdk",
        "rest",
        "api"
    ],
    "homepage": "https:\/\/openapi-generator.tech",
    "license": "unlicense",
    "authors": [
        {
            "name": "OpenAPI-Generator contributors",
            "homepage": "https:\/\/openapi-generator.tech"
        }
    ],
    "require": {
        "php": "^7.4 || ^8.0",
        "ext-curl": "*",
        "ext-json": "*",
        "ext-mbstring": "*",
        "guzzlehttp\/guzzle": "^7.3",
        "guzzlehttp\/psr7": "^1.7 || ^2.0"
    },
    "require-dev": {
        "phpunit\/phpunit": "^8.0 || ^9.0",
        "friendsofphp\/php-cs-fixer": "^3.5",
        "phpstan/phpstan": "^1.10"
    },
    "autoload": {
        "psr-4": {
            "Cube43\\Component\\MailEva\\": "src\/"
        }
    }
}
